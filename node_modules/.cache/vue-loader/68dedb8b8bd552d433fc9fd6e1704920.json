{"remainingRequest":"/Users/linghao/Documents/myvue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/linghao/Documents/myvue/src/views/config/project/projectList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/linghao/Documents/myvue/src/views/config/project/projectList.vue","mtime":1613289157536},{"path":"/Users/linghao/Documents/myvue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linghao/Documents/myvue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/linghao/Documents/myvue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/linghao/Documents/myvue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGNvbHVtbnMgPSBbCiAgICB7ZGF0YUluZGV4OiAiaWQiLCBrZXk6ICJpZCIsIHRpdGxlOiAiaWQifSwKICAgIHtkYXRhSW5kZXg6ICJwcm9qZWN0X25hbWUiLCBrZXk6ICJwcm9qZWN0X25hbWUiLCB0aXRsZTogIumhueebruWQjeensCJ9LAogICAge2RhdGFJbmRleDogInByb2plY3RfYWRkcmVzcyIsIGtleTogInByb2plY3RfYWRkcmVzcyIsIHRpdGxlOiAi6aG555uu5Zyw5Z2AIn0sCiAgICB7ZGF0YUluZGV4OiAicHJvamVjdF9tYW5hZ2VyIiwga2V5OiAicHJvamVjdF9tYW5hZ2VyIiwgdGl0bGU6ICLpobnnm67otJ/otKPkuroifSwKICAgIHtkYXRhSW5kZXg6ICJwcm9qZWN0X3N0YXR1cyIsIGtleTogInByb2plY3Rfc3RhdHVzIiwgdGl0bGU6ICLnirbmgIEifSwKICAgIHtkYXRhSW5kZXg6ICJwcm9qZWN0X2NyZWF0ZWQiLCBrZXk6ICJwcm9qZWN0X2NyZWF0ZWQiLCB0aXRsZTogIuWIm+W7uuiAhSJ9LAogICAge2RhdGFJbmRleDogInByb2plY3RfY3JlYXRlX3RpbWUiLCBrZXk6ICJwcm9qZWN0X2NyZWF0ZV90aW1lIiwgdGl0bGU6ICLliJvlu7rml7bpl7QifSwKICAgIHtkYXRhSW5kZXg6ICJwcm9qZWN0X21vZGlmeSIsIGtleTogInByb2plY3RfbW9kaWZ5IiwgdGl0bGU6ICLkv67mlLnogIUifSwKICAgIHtkYXRhSW5kZXg6ICJwcm9qZWN0X21vZGlmeV90aW1lIiwga2V5OiAicHJvamVjdF9tb2RpZnlfdGltZSIsIHRpdGxlOiAi5L+u5pS55pe26Ze0In0sCiAgICB7ZGF0YUluZGV4OiAiYWN0aW9uIiwga2V5OiAiYWN0aW9uIiwgdGl0bGU6ICLmk43kvZwiLCBzY29wZWRTbG90czoge2N1c3RvbVJlbmRlcjogImFjdGlvbiJ9fQpdCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAicHJvamVjdExpc3QiLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwcm9qZWN0X25hbWU6ICIiLCBwcm9qZWN0X2FkZHJlc3M6ICIiLCBwcm9qZWN0X21hbmFnZXI6IFt7bmFtZTogIuWFqOmDqCIsIHZhbHVlOiAwfV0sCiAgICAgICAgICAgIHByb2plY3Rfc3RhdHVzOiBbe25hbWU6ICLlhajpg6giLCB2YWx1ZTogMH0sIHtuYW1lOiAi5byA5ZCvIiwgdmFsdWU6IDF9LCB7bmFtZTogIuWFs+mXrSIsIHZhbHVlOiAyfV0sCiAgICAgICAgICAgIHByb2plY3RfbGlzdDogW10sIGNvbHVtbnMsCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5zZWFyY2hQcm9qZWN0TWFuYWdlcigpCiAgICAgICAgdGhpcy5zZWFyY2hQcm9qZWN0KCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8g5paw5aKeCiAgICAgICAgYWRkKCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogImFkZFByb2plY3QifSkKICAgICAgICB9LAogICAgICAgIC8vIOafpeivoumhueebrgogICAgICAgIHNlYXJjaFByb2plY3QoKSB7CiAgICAgICAgICAgIHRoaXMuR2V0KCIvcHJvamVjdExpc3QiLCB7Y3VycmVudFBhZ2U6IDAsIHBhZ2VTaXplOiAxMH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGxldCBzdGF0dXMgPSAiIgogICAgICAgICAgICAgICAgbGV0IG1hbmFnZXIgPSAiIgogICAgICAgICAgICAgICAgbGV0IGNyZWF0ZSA9ICIiCiAgICAgICAgICAgICAgICBsZXQgbW9kaWZ5ID0gIiIKICAgICAgICAgICAgICAgIHJlc1snY29kZSddID09PSAxMDAwID8gcmVzWydkYXRhJ10ubWFwKGl0ZW0gPT4gewogICAgICAgICAgICAgICAgICAgIGl0ZW1bJ3N0YXR1cyddID09PSAwID8gc3RhdHVzID0gIuW8gOWQryIgOiBzdGF0dXMgPSAi5YWz6ZetIgogICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdF9tYW5hZ2VyLm1hcChuYW1lID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVsncHJvamVjdF9tYW5hZ2VyJ10gPT09IG5hbWUudmFsdWUgPyBtYW5hZ2VyID0gbmFtZS5uYW1lIDogIiIKICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVsnY3JlYXRlSWQnXSA9PT0gbmFtZS52YWx1ZSA/IGNyZWF0ZSA9IG5hbWUubmFtZSA6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1bJ21vZGlmeUlkJ10gPT09IG5hbWUudmFsdWUgPyBtb2RpZnkgPSBuYW1lLm5hbWUgOiAiIgogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0X2xpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpdGVtWydwcm9qZWN0X2lkJ10sIHByb2plY3RfbmFtZTogaXRlbVsncHJvamVjdF9uYW1lJ10sCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RfYWRkcmVzczogaXRlbVsncHJvamVjdF9hZGRyZXNzJ10sIHByb2plY3RfbWFuYWdlcjogbWFuYWdlciwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdF9zdGF0dXM6IHN0YXR1cywgcHJvamVjdF9jcmVhdGVkOiBjcmVhdGUsIHByb2plY3RfbW9kaWZ5OiBtb2RpZnksCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RfY3JlYXRlX3RpbWU6IHRoaXMuZ2V0RGF0ZShpdGVtWydjcmVhdGVfdGltZSddKSwKICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdF9tb2RpZnlfdGltZTogdGhpcy5nZXREYXRlKGl0ZW1bJ21vZGlmeV90aW1lJ10pCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pIDogdGhpcy5tZXNzYWdlLmVycm9yKHJlc1snbWVzc2FnZSddLCAyKQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLy8g5oiW6ICF6aG555uu6LSf6LSj5Lq6CiAgICAgICAgc2VhcmNoUHJvamVjdE1hbmFnZXIoKSB7CiAgICAgICAgICAgIHRoaXMuR2V0KCIvc2VhcmNoVXNlciIsIHt9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICByZXNbJ2NvZGUnXSA9PT0gMTAwMCA/IHJlc1snZGF0YSddLm1hcChuYW1lID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2plY3RfbWFuYWdlci5wdXNoKHtuYW1lOiBuYW1lWyd1c2VybmFtZSddLCB2YWx1ZTogbmFtZVsndXNlcklkJ119KQogICAgICAgICAgICAgICAgfSkgOiB0aGlzLm1lc3NhZ2UuZXJyb3IocmVzWydtZXNzYWdlJ10sIDIpCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICB9Cn0K"},{"version":3,"sources":["projectList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"projectList.vue","sourceRoot":"src/views/config/project","sourcesContent":["* @Author: hao.ling\n* @Date: 2021/1/9 2:01 下午\n* @Explanation: 项目列表\n<template>\n    <div id=\"project_list\">\n        <a-layout id=\"layout\">\n            <a-layout-header style=\"background-color: white;\">\n                <a-form id=\"search\" layout=\"inline\">\n                    <a-form-item label=\"项目名称\">\n                        <a-input class=\"lang_input\" size=\"small\" placeholder=\"项目名称\" v-model=\"project_name\"/>\n                    </a-form-item>\n                    <a-form-item label=\"项目地址\">\n                        <a-input class=\"lang_input\" size=\"small\" placeholder=\"项目地址\" v-model=\"project_address\"/>\n                    </a-form-item>\n                    <a-form-item label=\"项目负责人\">\n                        <a-select class=\"input\" size=\"small\">\n                            <a-select-option v-for=\"name in project_manager\" :key=\"name.value\" :value=\"name.value\">\n                                {{name.name}}\n                            </a-select-option>\n                        </a-select>\n                    </a-form-item>\n                    <a-form-item label=\"状态\">\n                        <a-select class=\"input\" size=\"small\">\n                            <a-select-option v-for=\"status in project_status\" :key=\"status.value\" :value=\"status.value\">\n                                {{status.name}}\n                            </a-select-option>\n                        </a-select>\n                    </a-form-item>\n                    <my-icon @click=\"searchProject\" type=\"icon-search\" class=\"icon_btn\" style=\"color: blue;\"/>\n                    <my-icon @click=\"add\" type=\"icon-add\" class=\"icon_btn\" style=\"color: green;\"/>\n                </a-form>\n            </a-layout-header>\n            <a-layout-content>\n                <a-table :columns=\"columns\" :data-source=\"project_list\" bordered>\n\n                </a-table>\n            </a-layout-content>\n        </a-layout>\n    </div>\n</template>\n\n<script>\n    const columns = [\n        {dataIndex: \"id\", key: \"id\", title: \"id\"},\n        {dataIndex: \"project_name\", key: \"project_name\", title: \"项目名称\"},\n        {dataIndex: \"project_address\", key: \"project_address\", title: \"项目地址\"},\n        {dataIndex: \"project_manager\", key: \"project_manager\", title: \"项目负责人\"},\n        {dataIndex: \"project_status\", key: \"project_status\", title: \"状态\"},\n        {dataIndex: \"project_created\", key: \"project_created\", title: \"创建者\"},\n        {dataIndex: \"project_create_time\", key: \"project_create_time\", title: \"创建时间\"},\n        {dataIndex: \"project_modify\", key: \"project_modify\", title: \"修改者\"},\n        {dataIndex: \"project_modify_time\", key: \"project_modify_time\", title: \"修改时间\"},\n        {dataIndex: \"action\", key: \"action\", title: \"操作\", scopedSlots: {customRender: \"action\"}}\n    ]\n\n    export default {\n        name: \"projectList\",\n        data() {\n            return {\n                project_name: \"\", project_address: \"\", project_manager: [{name: \"全部\", value: 0}],\n                project_status: [{name: \"全部\", value: 0}, {name: \"开启\", value: 1}, {name: \"关闭\", value: 2}],\n                project_list: [], columns,\n            }\n        },\n        created() {\n            this.searchProjectManager()\n            this.searchProject()\n        },\n        methods: {\n            // 新增\n            add() {\n                this.$router.push({name: \"addProject\"})\n            },\n            // 查询项目\n            searchProject() {\n                this.Get(\"/projectList\", {currentPage: 0, pageSize: 10}).then(res => {\n                    let status = \"\"\n                    let manager = \"\"\n                    let create = \"\"\n                    let modify = \"\"\n                    res['code'] === 1000 ? res['data'].map(item => {\n                        item['status'] === 0 ? status = \"开启\" : status = \"关闭\"\n                        this.project_manager.map(name => {\n                            item['project_manager'] === name.value ? manager = name.name : \"\"\n                            item['createId'] === name.value ? create = name.name : \"\"\n                            item['modifyId'] === name.value ? modify = name.name : \"\"\n                        })\n                        this.project_list.push({\n                            id: item['project_id'], project_name: item['project_name'],\n                            project_address: item['project_address'], project_manager: manager,\n                            project_status: status, project_created: create, project_modify: modify,\n                            project_create_time: this.getDate(item['create_time']),\n                            project_modify_time: this.getDate(item['modify_time'])\n                        })\n                    }) : this.message.error(res['message'], 2)\n                })\n            },\n            // 或者项目负责人\n            searchProjectManager() {\n                this.Get(\"/searchUser\", {}).then(res => {\n                    res['code'] === 1000 ? res['data'].map(name => {\n                        this.project_manager.push({name: name['username'], value: name['userId']})\n                    }) : this.message.error(res['message'], 2)\n                })\n            },\n\n        }\n    }\n</script>\n\n<style scoped>\n    #layout {\n        width: 1200px;\n        height: 640px;\n        background-color: white;\n    }\n\n    .input {\n        width: 80px;\n    }\n\n    .lang_input {\n        width: 150px;\n    }\n\n    .icon_btn {\n        cursor: pointer;\n        margin-top: 5px;\n        margin-right: 10px;\n        font-size: 25px\n    }\n\n    #search {\n        margin-top: 10px;\n        margin-left: -30px;\n    }\n</style>"]}]}